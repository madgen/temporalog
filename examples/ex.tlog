.decl v(int,int).
v(1,2).
v(2,3).
v(2,4).

.decl v'(int,int).
v'(T,T') :- v(T,T').
v'(T',T')  :- v(T,T'), ! v(T',T'').

.decl q(int) @ v'.
q(1000) @ v' 2.
q(2000) @ v' 3.

?- EX v' q(X).       % (1,1000); (2,2000); (3,2000)
?- EX v' q(2000).    % T = 2
?- EX v' EX v' q(X). % (1,2000); (2,2000); (3,2000)

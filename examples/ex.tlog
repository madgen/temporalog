.pred v(int,int).
v(1,2).
v(2,3).
v(2,4).

.pred v'(int,int).
v'(T,T') :- v(T,T').
v'(T',T')  :- v(T,T'), ! v(T',_).

.pred q(int) @ v'.
q(1000) @ 2.
q(2000) @ 3.

?- EX q(X).       % (1,1000); (2,2000); (3,2000)
?- EX q(2000).    % T = 2; 3
?- EX EX q(X). % (1,2000); (2,2000); (3,2000)
